(()=>{for(var t=document.getElementById("myCanvas"),e=t.getContext("2d"),i=t.width/2,o=t.height-30,l=2,r=-2,a=75,n=(t.width-a)/2,f=!1,h=!1,d=0,c=3,y=[],u=0;u<8;u++){y[u]=[];for(var s=0;s<5;s++)y[u][s]={x:0,y:0,status:1}}document.addEventListener("keydown",(function(t){"Right"==t.key||"ArrowRight"==t.key?f=!0:"Left"!=t.key&&"ArrowLeft"!=t.key||(h=!0)}),!1),document.addEventListener("keyup",(function(t){"Right"==t.key||"ArrowRight"==t.key?f=!1:"Left"!=t.key&&"ArrowLeft"!=t.key||(h=!1)}),!1),document.addEventListener("mousemove",(function(e){var i=e.clientX-t.offsetLeft;i>0&&i<t.width&&(n=i-37.5)}),!1),function u(){e.clearRect(0,0,t.width,t.height),e.beginPath(),e.arc(i,o,10,0,2*Math.PI),e.fillStyle="#",e.fill(),e.closePath(),e.beginPath(),e.rect(n,t.height-10,a,10),e.fillStyle="#0095DD",e.fill(),e.closePath(),function(){for(var t=0;t<8;t++){for(var i=0;i<5;i++)if(1==y[t][i].status){var o=55*t+30,l=30*i+30;y[t][i].x=o,y[t][i].y=l,e.beginPath(),e.rect(o,l,45,20),e.fillStyle="rgb("+Math.floor(255-42.5*t)+", "+Math.floor(255-42.5*i)+", 0)",e.fill()}e.fill()}e.closePath()}(),function(){for(var t=0;t<8;t++)for(var e=0;e<5;e++){var l=y[t][e];1==l.status&&i>l.x&&i<l.x+45&&o>l.y&&o<l.y+20&&(r=-r,l.status=0,40==++d&&(alert("YOU WIN, CONGRATULATIONS!"),document.location.reload()))}}(),e.font="16px Arial",e.fillStyle="#0095DD",e.fillText("Score: "+d,8,20),e.font="16px Arial",e.fillStyle="#0095DD",e.fillText("Lives: "+c,t.width-65,20),document.body.style.backgroundColor="blue",(i+l>t.width-10||i+l<10)&&(l=-l),o+r<10?r=-r:o+r>t.height-10&&(i>n&&i<n+a?r=-r:--c?(i=t.width/2,o=t.height-30,l=2,r=-2,n=(t.width-a)/2):(alert("GAME OVER"),document.location.reload())),f?(n+=7)+a>t.width&&(n=t.width-a):h&&(n-=7)<0&&(n=0),i+=l,o+=r,requestAnimationFrame(u)}()})();